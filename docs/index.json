[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/constants.js",
    "content": "export const DEFAULT_KEY = '__default__';\n",
    "static": true,
    "longname": "/Users/207008/Repos/redux-endpoints/src/constants.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "DEFAULT_KEY",
    "memberof": "src/constants.js",
    "static": true,
    "longname": "src/constants.js~DEFAULT_KEY",
    "access": "public",
    "export": true,
    "importPath": "redux-endpoints/src/constants.js",
    "importStyle": "{DEFAULT_KEY}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "string"
      ]
    }
  },
  {
    "__docId__": 50,
    "kind": "file",
    "name": "src/index.js",
    "content": "import URL from 'url-parse';\n\nimport { DEFAULT_KEY } from './constants';\nimport { camelCase, actionTypeCase, initialEndpointState } from './utils';\n\nexport {\n  dataSelector,\n  errorSelector,\n  isPendingSelector,\n} from './selectors';\n\nexport { initialEndpointState };\n\nconst defaultResolver = () => DEFAULT_KEY;\n\n/**\n * @param {!Object} options\n * @param {!string} options.name The name for this endpoint. Will be used to\n * derive the action names. Must be provided in spinal case. E.g. `my-api` will\n * be transformed to action name `myApi/MAKE_MY_API_REQUEST`.\n * @param {!function(url: string, options: Object)} options.request\n * Takes the url to be requested as well as an options object optionally\n * supplied to the `request` action creator. Must return a Promise object which\n * resolves with the successfully requested data and rejects with either a\n * string value or an Error object.\n * @param {!string} options.url\n * The url to be requested when store dispatches the `request` action. May\n * include any number of url parameters denoted by colons. E.g.\n * `'/myapi/content/:id'`.\n * @param {?function} options.resolver\n * Takes as its arguments the url parameters denoted in options.url with colors.\n * Takes as its last, optional argument an options object.\n *\n * @return {Object} endpoint\n * @property {Object} actionCreators\n * @property {function} actionCreators.ingest\n * The ingest action creator is primarily for internal use, but it is exported\n * because its `toString` method returns its action type.\n * @property {function} actionCreators.request\n * Takes as its arguments the url parameters denoted in options.url with colons.\n * E.g. `'/myapi/content/:id'` results in a request action creator that takes\n * one argument, the `id` parameter. In addition, takes as its last, optional\n * argument an options object to pass in turn to the options.request function.\n * @property {function} selector Takes the same arguments as the passed\n * resolver. If no resolver is supplied, it receives no arguments. Returns a\n * selector that takes the root piece of state where this endpoint's data is\n * stored and returns the piece of state for the url that the arguments resolve to.\n * @property {function} reducer Redux reducer.\n * @property {function} middleware Redux middleware.\n */\nexport const createEndpoint = ({\n  name,\n  request,\n  url,\n  resolver = defaultResolver,\n}) => {\n  const actionTypeCaseName = actionTypeCase(name);\n  const camelCaseName = camelCase(name);\n\n  const parsedUrl = new URL(url);\n  // Thanks, Jeremy\n  const namedParam = /(\\(\\?)?:\\w+/g;\n  const urlParams = [];\n\n  let match = true;\n\n  while (match) {\n    match = namedParam.exec(parsedUrl.pathname);\n    if (match) urlParams.push(match[0]);\n  }\n\n  const ingestActionType =\n    `${camelCaseName}/INGEST_${actionTypeCaseName}_RESPONSE`;\n\n  const requestActionType =\n    `${camelCaseName}/MAKE_${actionTypeCaseName}_REQUEST`;\n\n  const ingestActionCreator = (payload, meta) => {\n    return {\n      error: (payload instanceof Error) ? true : false,\n      meta,\n      payload,\n      type: ingestActionType,\n    };\n  };\n\n  ingestActionCreator.toString = () => ingestActionType;\n\n  const requestActionCreator = (...params) => {\n    let options = {}, reqUrl = url;\n\n    urlParams.forEach((p, i) => {\n      reqUrl = reqUrl.replace(p, params[i]);\n    });\n\n    if (typeof params[params.length - 1] === 'object') {\n      options = params[params.length - 1];\n    }\n\n    const metaParams = urlParams.reduce((memo, p, i) => {\n      memo[p.replace(':', '')] = params[i];\n      return memo;\n    }, {});\n\n    return {\n      meta: {\n        params: metaParams,\n        path: resolver(...params),\n        url: reqUrl,\n      },\n      payload: {\n        options,\n        url: reqUrl,\n      },\n      type: requestActionType,\n    };\n  };\n\n  requestActionCreator.toString = () => requestActionType;\n\n  const actionCreators = {\n    ingest: ingestActionCreator,\n    request: requestActionCreator,\n  };\n\n  const middleware = store => next => action => {\n    if (action.type === requestActionType) {\n      request(action.payload.url, action.payload.options)\n        .then(data =>\n          store.dispatch(actionCreators.ingest(data, action.meta))\n        )\n        .catch(error => {\n          let payload;\n\n          if (error instanceof Error) {\n            payload = error;\n          } else {\n            payload = new Error(error);\n          }\n\n          store.dispatch(actionCreators.ingest(payload, action.meta))\n        });\n    }\n    return next(action);\n  }\n\n  const reducer = (previous = {}, action) => {\n    let nextState = null;\n\n    if (action.type === requestActionType) {\n      nextState = Object.assign({}, previous);\n      const path = action.meta.path;\n      if (!nextState[path]) {\n        const init = initialEndpointState();\n        init.pendingRequests = 1;\n        nextState[path] = init\n      } else {\n        nextState[path] = Object.assign({}, nextState[path]);\n        nextState[path].pendingRequests += 1;\n      }\n    } else if (action.type === ingestActionType) {\n      nextState = Object.assign({}, previous);\n      const path = action.meta.path;\n      const nextPathState = Object.assign({}, nextState[path]);\n      nextState[path] = nextPathState;\n\n      if (action.error) {\n        const { message, name } = action.payload;\n        nextPathState.error = { message, name }\n      } else {\n        nextPathState.data = action.payload;\n        nextPathState.error = null;\n        nextPathState.successfulRequests = (\n          nextPathState.successfulRequests === undefined\n            ? 1\n            : nextPathState.successfulRequests + 1\n        );\n      }\n\n      nextPathState.totalRequests = (\n        nextPathState.totalRequests === undefined\n        ? 1\n        : nextPathState.totalRequests + 1\n      );\n      nextPathState.pendingRequests--;\n    }\n\n    if (nextState !== null)\n      return nextState;\n\n    return previous;\n  };\n\n  const selectorMap = {};\n\n  const selector = (...params) => {\n    const path = resolver(...params);\n    let s;\n\n    if (!selectorMap[path]) {\n      s = state => (state[path] && state[path]) || null;\n      selectorMap[path] = s;\n    } else {\n      s = selectorMap[path];\n    }\n\n    return s;\n  };\n\n  return {\n    actionCreators,\n    middleware,\n    reducer,\n    selector,\n  };\n};\n",
    "static": true,
    "longname": "/Users/207008/Repos/redux-endpoints/src/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 51,
    "kind": "function",
    "name": "defaultResolver",
    "memberof": "src/index.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/index.js~defaultResolver",
    "access": "public",
    "export": false,
    "importPath": "redux-endpoints/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 52,
    "kind": "function",
    "name": "createEndpoint",
    "memberof": "src/index.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/index.js~createEndpoint",
    "access": "public",
    "export": true,
    "importPath": "redux-endpoints/src/index.js",
    "importStyle": "{createEndpoint}",
    "description": "",
    "lineNumber": 51,
    "params": [
      {
        "nullable": false,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "options",
        "description": ""
      },
      {
        "nullable": false,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "options.name",
        "description": "The name for this endpoint. Will be used to\nderive the action names. Must be provided in spinal case. E.g. `my-api` will\nbe transformed to action name `myApi/MAKE_MY_API_REQUEST`."
      },
      {
        "nullable": false,
        "types": [
          "function(url: string, options: Object)"
        ],
        "spread": false,
        "optional": false,
        "name": "options.request",
        "description": "Takes the url to be requested as well as an options object optionally\nsupplied to the `request` action creator. Must return a Promise object which\nresolves with the successfully requested data and rejects with either a\nstring value or an Error object."
      },
      {
        "nullable": false,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "options.url",
        "description": "The url to be requested when store dispatches the `request` action. May\ninclude any number of url parameters denoted by colons. E.g.\n`'/myapi/content/:id'`."
      },
      {
        "nullable": true,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "options.resolver",
        "description": "Takes as its arguments the url parameters denoted in options.url with colors.\nTakes as its last, optional argument an options object."
      }
    ],
    "properties": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "actionCreators",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "actionCreators.ingest",
        "description": "The ingest action creator is primarily for internal use, but it is exported\nbecause its `toString` method returns its action type."
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "actionCreators.request",
        "description": "Takes as its arguments the url parameters denoted in options.url with colons.\nE.g. `'/myapi/content/:id'` results in a request action creator that takes\none argument, the `id` parameter. In addition, takes as its last, optional\nargument an options object to pass in turn to the options.request function."
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "selector",
        "description": "Takes the same arguments as the passed\nresolver. If no resolver is supplied, it receives no arguments. Returns a\nselector that takes the root piece of state where this endpoint's data is\nstored and returns the piece of state for the url that the arguments resolve to."
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "reducer",
        "description": "Redux reducer."
      },
      {
        "nullable": null,
        "types": [
          "function"
        ],
        "spread": false,
        "optional": false,
        "name": "middleware",
        "description": "Redux middleware."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "endpoint"
    }
  },
  {
    "__docId__": 53,
    "kind": "file",
    "name": "src/selectors.js",
    "content": "/**\n * @param {Object} state A piece of state attached to one url.\n * @return {Object|null} Either the data most recently fetched from that url or null if there is none.\n */\nexport const dataSelector = (state) => {\n  if (state && state.data) {\n    return state.data;\n  }\n\n  return null;\n};\n\n/**\n * @param {Object} state A piece of state attached to one url.\n * @return {Object|null} error Either an error, if there was one during the last request, or null.\n * @property {string} name\n * @property {string} message\n */\nexport const errorSelector = (state) => {\n  if (state && state.error) {\n    return state.error;\n  }\n\n  return null;\n};\n\n/**\n * @param {Object} state A piece of state attached to one url.\n * @return {boolean} isPending Whether there is a request pending for that url.\n */\nexport const isPendingSelector = (state) => {\n  if (state && state.pendingRequests) {\n    return state.pendingRequests > 0;\n  }\n\n  return false;\n};\n",
    "static": true,
    "longname": "/Users/207008/Repos/redux-endpoints/src/selectors.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 54,
    "kind": "function",
    "name": "dataSelector",
    "memberof": "src/selectors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/selectors.js~dataSelector",
    "access": "public",
    "export": true,
    "importPath": "redux-endpoints/src/selectors.js",
    "importStyle": "{dataSelector}",
    "description": "",
    "lineNumber": 5,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": "A piece of state attached to one url."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object",
        "null"
      ],
      "spread": false,
      "description": "Either the data most recently fetched from that url or null if there is none."
    }
  },
  {
    "__docId__": 55,
    "kind": "function",
    "name": "errorSelector",
    "memberof": "src/selectors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/selectors.js~errorSelector",
    "access": "public",
    "export": true,
    "importPath": "redux-endpoints/src/selectors.js",
    "importStyle": "{errorSelector}",
    "description": "",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": "A piece of state attached to one url."
      }
    ],
    "properties": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": ""
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "message",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object",
        "null"
      ],
      "spread": false,
      "description": "error Either an error, if there was one during the last request, or null."
    }
  },
  {
    "__docId__": 56,
    "kind": "function",
    "name": "isPendingSelector",
    "memberof": "src/selectors.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/selectors.js~isPendingSelector",
    "access": "public",
    "export": true,
    "importPath": "redux-endpoints/src/selectors.js",
    "importStyle": "{isPendingSelector}",
    "description": "",
    "lineNumber": 31,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "state",
        "description": "A piece of state attached to one url."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "boolean"
      ],
      "spread": false,
      "description": "isPending Whether there is a request pending for that url."
    }
  },
  {
    "__docId__": 57,
    "kind": "file",
    "name": "src/utils.js",
    "content": "/**\n * @private\n */\nexport const camelCase = spinal => (\n  spinal.split('-').map((s, i) =>\n    i !== 0\n      ? (s[0].toUpperCase() + s.slice(1, s.length))\n      : s\n  ).join('')\n);\n\n/**\n * @private\n */\nexport const actionTypeCase = spinal => (\n  spinal.replace('-', '_').toUpperCase()\n);\n\n/**\n * @return {Object} initalEndpointState\n * Initial state for a branch of the state managed by an endpoint.\n */\nexport const initialEndpointState = () => ({\n  data: null,\n  error: null,\n  pendingRequests: 0,\n  successfulRequests: 0,\n  totalRequests: 0,\n});\n",
    "static": true,
    "longname": "/Users/207008/Repos/redux-endpoints/src/utils.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 58,
    "kind": "function",
    "name": "camelCase",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~camelCase",
    "access": "private",
    "export": true,
    "importPath": "redux-endpoints/src/utils.js",
    "importStyle": "{camelCase}",
    "description": "",
    "lineNumber": 4,
    "params": [
      {
        "name": "spinal",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 59,
    "kind": "function",
    "name": "actionTypeCase",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~actionTypeCase",
    "access": "private",
    "export": true,
    "importPath": "redux-endpoints/src/utils.js",
    "importStyle": "{actionTypeCase}",
    "description": "",
    "lineNumber": 15,
    "params": [
      {
        "name": "spinal",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 60,
    "kind": "function",
    "name": "initialEndpointState",
    "memberof": "src/utils.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils.js~initialEndpointState",
    "access": "public",
    "export": true,
    "importPath": "redux-endpoints/src/utils.js",
    "importStyle": "{initialEndpointState}",
    "description": "",
    "lineNumber": 23,
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "initalEndpointState\nInitial state for a branch of the state managed by an endpoint."
    },
    "params": []
  },
  {
    "kind": "index",
    "content": "# redux-endpoints\n> Define Redux modules for fetching data from API endpoints\n\n![Build status](https://travis-ci.org/dylanonelson/redux-endpoints.svg?branch=master)\n\n## Motivation\nI found myself writing a lot of boilerplate code every time I wanted to fetch data and ingest it into my Redux store. First, I would define some actions for requesting and ingesting the data. Then I would define a reducer to process those actions. Then I would define some middleware or a saga to intercept the \"request\" action and fire off the \"ingest\" one once the API call was complete. Establishing all the cross references and integrating the module into my Redux setup was tedious and error prone. More importantly, I quickly realized that for simple cases I was doing the exact same thing every time, with minor variations caused only by slips of memory or spells of laziness. I made redux-endpoints as a way to truly standardize this type of module definition.\n\n## Example\n```js\n// src/redux-modules/resourceApi/index.js\nimport { createEndpoint } from 'redux-endpoints';\n\nconst ep = createEndpoint({\n  // Must be spinal case\n  name: 'resource-api',\n  // Receives the url as a parameter and must return a promise\n  request: url => new Promise((resolve, reject) => (\n    fetch(url, { credentials: 'include' })\n      .then(resp => resp.json())\n      .then(json => resolve(json))\n  )),\n  // Receives the url params as arguments and returns the key in the state\n  // where the request data will be stored\n  resolver: id => id,\n  // Url pattern for requests\n  url: '/api/resource/:id',\n});\n\nconst {\n  actionCreators,\n  actionTypes,\n  middleware,\n  selector,\n  reducer,\n} = ep;\n\nexport {\n  actionCreators,\n  actionTypes,\n  middleware,\n  selector,\n};\n\nexport default reducer;\n```\n\n```js\n// src/redux-store/index.js\nimport { applyMiddleware, createStore } from 'redux';\n\nimport endpointReducer, { middleware } from 'redux-modules/resourceApi';\n\nconst middleware = applyMiddleware(\n  middleware,\n);\n\nconst reducer = combineReducers({\n  resourceApi: endpointReducer,\n});\n\nconst store = createStore(reducer, {}, middleware);\n```\n\n```js\n// whereveryouwant.js\nimport store from 'redux-store';\n\nimport { actionCreators } from 'redux-modules/resourceApi';\n\nstore.dispatch(actionCreators.request(1));\n```\n\nThe code above triggers:\n1. An action, `resourceApi/MAKE_RESOURCE_API_REQUEST`,\n1. A fetch to the url `/api/resource/1`, and\n1. An action, `resourceApi/INGEST_RESOURCE_API_RESPONSE`.\n\nAt the end of the whole thing, the `resourceApi` branch of your state will look as follows:\n```json\n{\n  \"1\": {\n    \"pendingRequests\": 0,\n    \"data\": {\n      \"id\": 1,\n      \"server_attribute\": \"server_value\"\n    }\n  }\n}\n```\n\nIf something went wrong with your request and the Promise were rejected, the `resourceApi` branch of your state would look as follows:\n```json\n{\n  \"1\": {\n    \"pendingRequests\": 0,\n    \"data\": null,\n    \"error\": {\n      \"message\": \"Something went wrong with the request\",\n      \"name\": \"Error\"\n    }\n  }\n}\n```\n",
    "longname": "/Users/207008/Repos/redux-endpoints/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"version\": \"0.5.0\",\n  \"main\": \"dist/index.bundle.js\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/dylanonelson/redux-endpoints\"\n  },\n  \"keywords\": [\n    \"actions\",\n    \"fsa\",\n    \"redux modules\",\n    \"redux\"\n  ],\n  \"scripts\": {\n    \"build\": \"webpack --colors --progress\",\n    \"posttest\": \"npm run build\",\n    \"test\": \"jest --coverage\",\n    \"test:watch\": \"jest --coverage --watch\"\n  },\n  \"author\": \"Dylan Nelson\",\n  \"license\": \"ISC\",\n  \"name\": \"redux-endpoints\",\n  \"description\": \"Redux modules for API endpoints\",\n  \"devDependencies\": {\n    \"babel-core\": \"^6.25.0\",\n    \"babel-eslint\": \"^7.2.3\",\n    \"babel-loader\": \"^7.1.1\",\n    \"babel-plugin-transform-decorators-legacy\": \"^1.3.4\",\n    \"babel-preset-latest\": \"^6.24.1\",\n    \"babel-preset-react\": \"^6.24.1\",\n    \"chai\": \"^4.1.0\",\n    \"css-loader\": \"^0.28.4\",\n    \"esdoc\": \"^1.0.2\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"eslint\": \"^4.3.0\",\n    \"eslint-loader\": \"^1.9.0\",\n    \"eslint-plugin-react\": \"^7.1.0\",\n    \"express\": \"^4.15.3\",\n    \"fetch-everywhere\": \"^1.0.5\",\n    \"fetch-mock\": \"^5.12.1\",\n    \"file-loader\": \"^0.11.2\",\n    \"jest\": \"^20.0.4\",\n    \"mocha\": \"^3.4.2\",\n    \"node-fetch\": \"^1.7.1\",\n    \"prop-types\": \"^15.5.10\",\n    \"redux\": \"^3.7.2\",\n    \"redux-mock-store\": \"^1.2.3\",\n    \"style-loader\": \"^0.18.2\",\n    \"url-parse\": \"^1.1.9\",\n    \"webpack\": \"^3.4.0\",\n    \"webpack-dev-server\": \"^2.6.1\"\n  }\n}\n",
    "longname": "/Users/207008/Repos/redux-endpoints/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]